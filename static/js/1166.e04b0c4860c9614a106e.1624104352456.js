(self.webpackChunktemp=self.webpackChunktemp||[]).push([[1166],{1166:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ DataHelper)\n/* harmony export */ });\n/* harmony import */ var _constant_common_constant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7081);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(381);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nvar DataHelper = /** @class */ (function () {\r\n    function DataHelper() {\r\n    }\r\n    DataHelper.deepClone = function (source) {\r\n        if (source === undefined)\r\n            return undefined;\r\n        var json = JSON.stringify(source);\r\n        return JSON.parse(json);\r\n    };\r\n    DataHelper.insertAndShift = function (arr, from, to) {\r\n        var cutOut = arr.splice(from, 1)[0]; // cut the element at index 'from'\r\n        arr.splice(to, 0, cutOut); // insert it at index 'to'\r\n    };\r\n    DataHelper.getMinMaxTemp = function (temp, forecastDateApplyWithCurrent) {\r\n        if (forecastDateApplyWithCurrent === void 0) { forecastDateApplyWithCurrent = 0; }\r\n        var hours = Object.keys(temp).filter(function (x) { return x.includes('_'); });\r\n        var tempValue = [];\r\n        var limitDate = (forecastDateApplyWithCurrent * 24) + 24;\r\n        for (var index = forecastDateApplyWithCurrent * 24; index < limitDate; index++) {\r\n            tempValue.push(temp[hours[index]]);\r\n        }\r\n        return {\r\n            min: Math.min.apply(Math, tempValue),\r\n            max: Math.max.apply(Math, tempValue),\r\n        };\r\n    };\r\n    DataHelper.getDataByHour = function (temp, offset) {\r\n        var hours = Object.keys(temp).filter(function (x) { return x.includes('_'); });\r\n        var refDate = Object.keys(temp).filter(function (x) { return x.includes('refDate'); });\r\n        var diffHours = moment__WEBPACK_IMPORTED_MODULE_1___default()().add(offset, 'hours').diff(moment__WEBPACK_IMPORTED_MODULE_1___default()(temp[refDate[0]]), 'hours');\r\n        var result = diffHours - 1;\r\n        return temp[hours[result]];\r\n    };\r\n    DataHelper.getMostFrequentIcon = function (temp, date) {\r\n        var originalHour = new Date().getHours();\r\n        var currentHour = originalHour;\r\n        var arr = new Array();\r\n        // Get most frequent icon at daylight from 6:00 to 18:00 for next 5 day\r\n        if (currentHour >= 6 && currentHour <= 18) {\r\n            if (date != 0) {\r\n                currentHour = 6;\r\n            }\r\n            for (var i = currentHour; i <= 18; i++) {\r\n                arr.push(DataHelper.getDataByDateHour(temp, date, i));\r\n            }\r\n        }\r\n        // Get most frequent icon at night from 19:00 to 5:00 next day for next 5 day\r\n        else {\r\n            if (date == 0) {\r\n                if (currentHour >= 0 && currentHour <= 5) {\r\n                    currentHour = currentHour + 24;\r\n                }\r\n            }\r\n            else {\r\n                currentHour = 19;\r\n            }\r\n            for (var i = currentHour; i <= 5 + 24; i++) {\r\n                if (i <= 23) {\r\n                    if (originalHour > 5) {\r\n                        arr.push(DataHelper.getDataByDateHour(temp, date, i));\r\n                    }\r\n                    else {\r\n                        arr.push(DataHelper.getDataByDateHour(temp, date - 1, i));\r\n                    }\r\n                }\r\n                else {\r\n                    if (originalHour > 5) {\r\n                        arr.push(DataHelper.getDataByDateHour(temp, date + 1, i - 24));\r\n                    }\r\n                    else {\r\n                        arr.push(DataHelper.getDataByDateHour(temp, date, i - 24));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var hashmap = arr.reduce(function (acc, val) {\r\n            acc[val] = (acc[val] || 0) + 1;\r\n            return acc;\r\n        }, {});\r\n        return Object.keys(hashmap).reduce(function (a, b) { return hashmap[a] > hashmap[b] ? a : b; });\r\n    };\r\n    DataHelper.getDataByDateHour = function (temp, date, time) {\r\n        var hours = Object.keys(temp).filter(function (x) { return x.includes('_'); });\r\n        var refDate = Object.keys(temp).filter(function (x) { return x.includes('refDate'); });\r\n        var diffHours = moment__WEBPACK_IMPORTED_MODULE_1___default()().add(date, 'days').hours(time).diff(moment__WEBPACK_IMPORTED_MODULE_1___default()(temp[refDate[0]]), 'hours');\r\n        var result = diffHours - 1;\r\n        return temp[hours[result]];\r\n    };\r\n    DataHelper.getDisplayHour = function (offset) {\r\n        var displayHour = new Date().getHours() + offset;\r\n        if (displayHour > 23) {\r\n            return displayHour - 24 + ':00';\r\n        }\r\n        return displayHour + ':00';\r\n    };\r\n    DataHelper.getImageArray = function (htmlStr) {\r\n        var node = document.createElement('div');\r\n        node.innerHTML = htmlStr;\r\n        var nodeList = node.querySelectorAll('img');\r\n        var result = [];\r\n        nodeList.forEach(function (el) {\r\n            result.push(el.src);\r\n        });\r\n        return result.filter(function (x) { return x.includes(_constant_common_constant__WEBPACK_IMPORTED_MODULE_0__/* .BASE_CLOUD_URL */ .W1); });\r\n    };\r\n    DataHelper.generateInsertAndDeleteArr = function (entity, original) {\r\n        var originalArr = this.getImageArray(original);\r\n        var entityArr = this.getImageArray(entity);\r\n        var imageNormalDelete = [];\r\n        var imageNormalAdd = [];\r\n        originalArr.forEach(function (element) {\r\n            var img = entityArr.find(function (x) { return x === element; });\r\n            if (!img) {\r\n                imageNormalDelete.push(element);\r\n            }\r\n        });\r\n        entityArr.forEach(function (element) {\r\n            var img = originalArr.find(function (x) { return x === element; });\r\n            if (!img) {\r\n                imageNormalAdd.push(element);\r\n            }\r\n        });\r\n        return { imageNormalDelete: imageNormalDelete, imageNormalAdd: imageNormalAdd };\r\n    };\r\n    return DataHelper;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wLy4vc3JjL3V0aWxzL2RhdGEtaGVscGVyLnRzPzEyNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQytEO0FBQ25DO0FBQzVCO0lBQUE7SUFrSUEsQ0FBQztJQWpJVSxvQkFBUyxHQUFoQixVQUFvQixNQUFXO1FBQzNCLElBQUksTUFBTSxLQUFLLFNBQVM7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUMzQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0seUJBQWMsR0FBckIsVUFBc0IsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFO1FBQy9CLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsa0NBQWtDO1FBQ3ZFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFZLDBCQUEwQjtJQUNwRSxDQUFDO0lBRU0sd0JBQWEsR0FBcEIsVUFBcUIsSUFBSSxFQUFFLDRCQUFnQztRQUFoQywrRUFBZ0M7UUFDdkQsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBQyxJQUFJLFFBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQWYsQ0FBZSxDQUFDLENBQUM7UUFDN0QsSUFBTSxTQUFTLEdBQUcsRUFBRTtRQUNwQixJQUFNLFNBQVMsR0FBRyxDQUFDLDRCQUE0QixHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUMzRCxLQUFLLElBQUksS0FBSyxHQUFHLDRCQUE0QixHQUFHLEVBQUUsRUFBRSxLQUFLLEdBQUcsU0FBUyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQzVFLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEM7UUFDRCxPQUFPO1lBQ0gsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLE9BQVIsSUFBSSxFQUFRLFNBQVMsQ0FBQztZQUMzQixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsT0FBUixJQUFJLEVBQVEsU0FBUyxDQUFDO1NBQzlCO0lBQ0wsQ0FBQztJQUVNLHdCQUFhLEdBQXBCLFVBQXFCLElBQUksRUFBRSxNQUFNO1FBQzdCLElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQUMsSUFBSSxRQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFmLENBQWUsQ0FBQyxDQUFDO1FBQzdELElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQUMsSUFBSSxRQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQUM7UUFDbkUsSUFBTSxTQUFTLEdBQUcsNkNBQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLDZDQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDeEYsSUFBTSxNQUFNLEdBQUcsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRU0sOEJBQW1CLEdBQTFCLFVBQTJCLElBQUksRUFBRSxJQUFJO1FBQ2pDLElBQU0sWUFBWSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0MsSUFBSSxXQUFXLEdBQUcsWUFBWSxDQUFDO1FBQy9CLElBQUksR0FBRyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7UUFFdEIsdUVBQXVFO1FBQ3ZFLElBQUksV0FBVyxJQUFJLENBQUMsSUFBSSxXQUFXLElBQUksRUFBRSxFQUFFO1lBQ3ZDLElBQUksSUFBSSxJQUFJLENBQUMsRUFBRTtnQkFDWCxXQUFXLEdBQUcsQ0FBQyxDQUFDO2FBQ25CO1lBRUQsS0FBSyxJQUFJLENBQUMsR0FBRyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDcEMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3pEO1NBQ0o7UUFDRCw2RUFBNkU7YUFDeEU7WUFDRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7Z0JBQ1gsSUFBSSxXQUFXLElBQUksQ0FBQyxJQUFJLFdBQVcsSUFBSSxDQUFDLEVBQUU7b0JBQ3RDLFdBQVcsR0FBRyxXQUFXLEdBQUcsRUFBRSxDQUFDO2lCQUNsQzthQUNKO2lCQUFNO2dCQUNILFdBQVcsR0FBRyxFQUFFLENBQUM7YUFDcEI7WUFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDeEMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO29CQUNULElBQUksWUFBWSxHQUFHLENBQUMsRUFBRTt3QkFDbEIsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUN6RDt5QkFBTTt3QkFDSCxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUM3RDtpQkFDSjtxQkFBTTtvQkFDSCxJQUFJLFlBQVksR0FBRyxDQUFDLEVBQUU7d0JBQ2xCLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUNsRTt5QkFBTTt3QkFDSCxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUM5RDtpQkFDSjthQUVKO1NBQ0o7UUFFRCxJQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUc7WUFDaEMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxHQUFHLENBQUM7WUFDL0IsT0FBTyxHQUFHO1FBQ2QsQ0FBQyxFQUFDLEVBQUUsQ0FBQztRQUNMLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLGNBQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUEvQixDQUErQixDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVNLDRCQUFpQixHQUF4QixVQUF5QixJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7UUFDckMsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBQyxJQUFJLFFBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQWYsQ0FBZSxDQUFDLENBQUM7UUFDN0QsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBQyxJQUFJLFFBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQXJCLENBQXFCLENBQUMsQ0FBQztRQUNuRSxJQUFNLFNBQVMsR0FBRyw2Q0FBTSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLDZDQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDakcsSUFBTSxNQUFNLEdBQUcsU0FBUyxHQUFFLENBQUMsQ0FBQztRQUM1QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRU0seUJBQWMsR0FBckIsVUFBc0IsTUFBTTtRQUN4QixJQUFJLFdBQVcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRSxHQUFHLE1BQU0sQ0FBQztRQUNqRCxJQUFJLFdBQVcsR0FBRyxFQUFFLEVBQUU7WUFDbEIsT0FBTyxXQUFXLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQztTQUNuQztRQUNELE9BQU8sV0FBVyxHQUFHLEtBQUssQ0FBQztJQUMvQixDQUFDO0lBRU0sd0JBQWEsR0FBcEIsVUFBcUIsT0FBTztRQUN4QixJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ3pCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxJQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDbEIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFFO1lBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBQyxJQUFJLFFBQUMsQ0FBQyxRQUFRLENBQUMsK0VBQWMsQ0FBQyxFQUExQixDQUEwQixDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVNLHFDQUEwQixHQUFqQyxVQUFrQyxNQUFhLEVBQUcsUUFBZ0I7UUFDOUQsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNqRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLElBQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDO1FBQzdCLElBQU0sY0FBYyxHQUFHLEVBQUUsQ0FBQztRQUMxQixXQUFXLENBQUMsT0FBTyxDQUFDLGlCQUFPO1lBQ3ZCLElBQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBQyxJQUFJLFFBQUMsS0FBSyxPQUFPLEVBQWIsQ0FBYSxDQUFDLENBQUM7WUFDL0MsSUFBRyxDQUFDLEdBQUcsRUFBRTtnQkFDTCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQ2xDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxTQUFTLENBQUMsT0FBTyxDQUFDLGlCQUFPO1lBQ3JCLElBQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBQyxJQUFJLFFBQUMsS0FBSyxPQUFPLEVBQWIsQ0FBYSxDQUFDLENBQUM7WUFDakQsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDTixjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUMvQjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxFQUFFLGlCQUFpQixxQkFBRSxjQUFjLGtCQUFFLENBQUM7SUFDakQsQ0FBQztJQUVMLGlCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIxMTY2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7IEJBU0VfQ0xPVURfVVJMIH0gZnJvbSAnLi8uLi9jb25zdGFudC9jb21tb24tY29uc3RhbnQnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmV4cG9ydCBjbGFzcyBEYXRhSGVscGVyIHtcclxuICAgIHN0YXRpYyBkZWVwQ2xvbmU8VD4oc291cmNlOiBhbnkpOiBUIHtcclxuICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluc2VydEFuZFNoaWZ0KGFyciwgZnJvbSwgdG8pIHtcclxuICAgICAgICBsZXQgY3V0T3V0ID0gYXJyLnNwbGljZShmcm9tLCAxKVswXTsgLy8gY3V0IHRoZSBlbGVtZW50IGF0IGluZGV4ICdmcm9tJ1xyXG4gICAgICAgIGFyci5zcGxpY2UodG8sIDAsIGN1dE91dCk7ICAgICAgICAgICAgLy8gaW5zZXJ0IGl0IGF0IGluZGV4ICd0bydcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0TWluTWF4VGVtcCh0ZW1wLCBmb3JlY2FzdERhdGVBcHBseVdpdGhDdXJyZW50ID0gMCkge1xyXG4gICAgICAgIGNvbnN0IGhvdXJzID0gT2JqZWN0LmtleXModGVtcCkuZmlsdGVyKHggPT4geC5pbmNsdWRlcygnXycpKTtcclxuICAgICAgICBjb25zdCB0ZW1wVmFsdWUgPSBbXVxyXG4gICAgICAgIGNvbnN0IGxpbWl0RGF0ZSA9IChmb3JlY2FzdERhdGVBcHBseVdpdGhDdXJyZW50ICogMjQpICsgMjQ7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSBmb3JlY2FzdERhdGVBcHBseVdpdGhDdXJyZW50ICogMjQ7IGluZGV4IDwgbGltaXREYXRlOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHRlbXBWYWx1ZS5wdXNoKHRlbXBbaG91cnNbaW5kZXhdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4oLi4udGVtcFZhbHVlKSxcclxuICAgICAgICAgICAgbWF4OiBNYXRoLm1heCguLi50ZW1wVmFsdWUpLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RGF0YUJ5SG91cih0ZW1wLCBvZmZzZXQpIHtcclxuICAgICAgICBjb25zdCBob3VycyA9IE9iamVjdC5rZXlzKHRlbXApLmZpbHRlcih4ID0+IHguaW5jbHVkZXMoJ18nKSk7XHJcbiAgICAgICAgbGV0IHJlZkRhdGUgPSBPYmplY3Qua2V5cyh0ZW1wKS5maWx0ZXIoeCA9PiB4LmluY2x1ZGVzKCdyZWZEYXRlJykpO1xyXG4gICAgICAgIGNvbnN0IGRpZmZIb3VycyA9IG1vbWVudCgpLmFkZChvZmZzZXQsICdob3VycycpLmRpZmYobW9tZW50KHRlbXBbcmVmRGF0ZVswXV0pLCAnaG91cnMnKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkaWZmSG91cnMgLSAxO1xyXG4gICAgICAgIHJldHVybiB0ZW1wW2hvdXJzW3Jlc3VsdF1dO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRNb3N0RnJlcXVlbnRJY29uKHRlbXAsIGRhdGUpIHtcclxuICAgICAgICBjb25zdCBvcmlnaW5hbEhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRIb3VyID0gb3JpZ2luYWxIb3VyO1xyXG4gICAgICAgIGxldCBhcnIgPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IG1vc3QgZnJlcXVlbnQgaWNvbiBhdCBkYXlsaWdodCBmcm9tIDY6MDAgdG8gMTg6MDAgZm9yIG5leHQgNSBkYXlcclxuICAgICAgICBpZiAoY3VycmVudEhvdXIgPj0gNiAmJiBjdXJyZW50SG91ciA8PSAxOCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SG91ciA9IDY7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50SG91cjsgaSA8PSAxODsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChEYXRhSGVscGVyLmdldERhdGFCeURhdGVIb3VyKHRlbXAsIGRhdGUsIGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgbW9zdCBmcmVxdWVudCBpY29uIGF0IG5pZ2h0IGZyb20gMTk6MDAgdG8gNTowMCBuZXh0IGRheSBmb3IgbmV4dCA1IGRheVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEhvdXIgPj0gMCAmJiBjdXJyZW50SG91ciA8PSA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhvdXIgPSBjdXJyZW50SG91ciArIDI0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEhvdXIgPSAxOTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRIb3VyOyBpIDw9IDUgKyAyNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8PSAyMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEhvdXIgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKERhdGFIZWxwZXIuZ2V0RGF0YUJ5RGF0ZUhvdXIodGVtcCwgZGF0ZSwgaSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKERhdGFIZWxwZXIuZ2V0RGF0YUJ5RGF0ZUhvdXIodGVtcCwgZGF0ZSAtIDEsIGkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEhvdXIgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKERhdGFIZWxwZXIuZ2V0RGF0YUJ5RGF0ZUhvdXIodGVtcCwgZGF0ZSArIDEsIGkgLSAyNCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKERhdGFIZWxwZXIuZ2V0RGF0YUJ5RGF0ZUhvdXIodGVtcCwgZGF0ZSwgaSAtIDI0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGFzaG1hcCA9IGFyci5yZWR1Y2UoKGFjYywgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgIGFjY1t2YWxdID0gKGFjY1t2YWxdIHx8IDAgKSArIDFcclxuICAgICAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICAgIH0se30pXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGhhc2htYXApLnJlZHVjZSgoYSwgYikgPT4gaGFzaG1hcFthXSA+IGhhc2htYXBbYl0gPyBhIDogYik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERhdGFCeURhdGVIb3VyKHRlbXAsIGRhdGUsIHRpbWUpIHtcclxuICAgICAgICBjb25zdCBob3VycyA9IE9iamVjdC5rZXlzKHRlbXApLmZpbHRlcih4ID0+IHguaW5jbHVkZXMoJ18nKSk7XHJcbiAgICAgICAgbGV0IHJlZkRhdGUgPSBPYmplY3Qua2V5cyh0ZW1wKS5maWx0ZXIoeCA9PiB4LmluY2x1ZGVzKCdyZWZEYXRlJykpO1xyXG4gICAgICAgIGNvbnN0IGRpZmZIb3VycyA9IG1vbWVudCgpLmFkZChkYXRlLCAnZGF5cycpLmhvdXJzKHRpbWUpLmRpZmYobW9tZW50KHRlbXBbcmVmRGF0ZVswXV0pLCAnaG91cnMnKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkaWZmSG91cnMgLTE7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBbaG91cnNbcmVzdWx0XV07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERpc3BsYXlIb3VyKG9mZnNldCkge1xyXG4gICAgICAgIGxldCBkaXNwbGF5SG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKSArIG9mZnNldDtcclxuICAgICAgICBpZiAoZGlzcGxheUhvdXIgPiAyMykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGlzcGxheUhvdXIgLSAyNCArICc6MDAnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlzcGxheUhvdXIgKyAnOjAwJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW1hZ2VBcnJheShodG1sU3RyKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbFN0cjtcclxuICAgICAgICBjb25zdCBub2RlTGlzdCA9IG5vZGUucXVlcnlTZWxlY3RvckFsbCgnaW1nJyk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbm9kZUxpc3QuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVsLnNyYyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5maWx0ZXIoeCA9PiB4LmluY2x1ZGVzKEJBU0VfQ0xPVURfVVJMKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdlbmVyYXRlSW5zZXJ0QW5kRGVsZXRlQXJyKGVudGl0eTpzdHJpbmcgLCBvcmlnaW5hbDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxBcnIgPSB0aGlzLmdldEltYWdlQXJyYXkob3JpZ2luYWwpO1xyXG4gICAgICAgIGNvbnN0IGVudGl0eUFyciA9IHRoaXMuZ2V0SW1hZ2VBcnJheShlbnRpdHkpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlTm9ybWFsRGVsZXRlID0gW107XHJcbiAgICAgICAgY29uc3QgaW1hZ2VOb3JtYWxBZGQgPSBbXTtcclxuICAgICAgICBvcmlnaW5hbEFyci5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBlbnRpdHlBcnIuZmluZCh4ID0+IHggPT09IGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZighaW1nKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZU5vcm1hbERlbGV0ZS5wdXNoKGVsZW1lbnQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBlbnRpdHlBcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gb3JpZ2luYWxBcnIuZmluZCh4ID0+IHggPT09IGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAoIWltZykge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VOb3JtYWxBZGQucHVzaChlbGVtZW50KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgaW1hZ2VOb3JtYWxEZWxldGUsIGltYWdlTm9ybWFsQWRkIH07XHJcbiAgICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1166\n")}}]);