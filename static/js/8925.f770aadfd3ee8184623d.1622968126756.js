(self.webpackChunktemp=self.webpackChunktemp||[]).push([[8925],{98925:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "F": () => (/* binding */ displayLocation)\n});\n\n// UNUSED EXPORTS: getCurrentLocation\n\n// EXTERNAL MODULE: ./src/service/generic-service/generic.service.ts\nvar generic_service = __webpack_require__(48449);\n// EXTERNAL MODULE: ./src/constant/uri/user-constant.ts\nvar user_constant = __webpack_require__(24290);\n;// CONCATENATED MODULE: ./src/service/location-service/location.service.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== "function" && b !== null)\r\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar LocationServices = /** @class */ (function (_super) {\r\n    __extends(LocationServices, _super);\r\n    function LocationServices() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    LocationServices.prototype.getCurrentLocation = function (lat, lon) {\r\n        return this.executeSelecting({ lat: lat, lon: lon }, user_constant/* default.getCurrentLocation */.Z.getCurrentLocation).then(function (response) {\r\n            return Promise.resolve(response);\r\n        }).catch(function (error) { return Promise.reject(error); });\r\n    };\r\n    return LocationServices;\r\n}(generic_service/* GenericServices */.d));\r\n\r\n\n;// CONCATENATED MODULE: ./src/utils/location-helper.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\nvar getCurrentLocation = function () {\r\n    var options = {\r\n        enableHighAccuracy: true,\r\n        timeout: 5000,\r\n        maximumAge: 60000\r\n    };\r\n    return new Promise(function (res, rej) {\r\n        navigator.geolocation.getCurrentPosition(res, rej, options);\r\n    });\r\n};\r\nvar displayLocation = function (coordinate) {\r\n    if (coordinate === void 0) { coordinate = null; }\r\n    return new Promise(function (resolve) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var locationService, lon, lat, position, cached;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    locationService = new LocationServices();\r\n                    lon = null;\r\n                    lat = null;\r\n                    if (!coordinate) return [3 /*break*/, 1];\r\n                    lon = coordinate.lon;\r\n                    lat = coordinate.lat;\r\n                    return [3 /*break*/, 3];\r\n                case 1: return [4 /*yield*/, getCurrentLocation()];\r\n                case 2:\r\n                    position = _a.sent();\r\n                    lon = position.coords.longitude;\r\n                    lat = position.coords.latitude;\r\n                    _a.label = 3;\r\n                case 3:\r\n                    cached = sessionStorage.getItem(\'position\');\r\n                    if (cached) {\r\n                        resolve(JSON.parse(cached));\r\n                    }\r\n                    else {\r\n                        locationService.getCurrentLocation(lat, lon).then(function (res) {\r\n                            var regionCode = res.data[0].region_code;\r\n                            var region = res.data[0].region;\r\n                            sessionStorage.setItem(\'position\', JSON.stringify({ lat: lat, lon: lon, regionCode: regionCode, region: region }));\r\n                            resolve({ lat: lat, lon: lon, regionCode: regionCode, region: region });\r\n                        }).catch(function (error) {\r\n                            console.log(error);\r\n                        });\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wLy4vc3JjL3NlcnZpY2UvbG9jYXRpb24tc2VydmljZS9sb2NhdGlvbi5zZXJ2aWNlLnRzPzc1OWQiLCJ3ZWJwYWNrOi8vdGVtcC8uL3NyYy91dGlscy9sb2NhdGlvbi1oZWxwZXIudHM/OTE2ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ3FFO0FBQ3RCO0FBRS9DO0lBQXNDLG9DQUFlO0lBQXJEOztJQU1BLENBQUM7SUFMRyw2Q0FBa0IsR0FBbEIsVUFBbUIsR0FBVyxFQUFFLEdBQVc7UUFDdkMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxHQUFHLE9BQUUsR0FBRyxPQUFFLEVBQUUsa0VBQXNCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxRQUFxQjtZQUMxRixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxlQUFLLElBQUksY0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBckIsQ0FBcUIsQ0FBQztJQUM1QyxDQUFDO0lBQ0wsdUJBQUM7QUFBRCxDQUFDLENBTnFDLHNDQUFlLEdBTXBEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVitFO0FBRXpFLElBQU0sa0JBQWtCLEdBQUc7SUFDOUIsSUFBSSxPQUFPLEdBQUc7UUFDVixrQkFBa0IsRUFBRSxJQUFJO1FBQ3hCLE9BQU8sRUFBRSxJQUFJO1FBQ2IsVUFBVSxFQUFFLEtBQUs7S0FDcEIsQ0FBQztJQUNGLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxHQUFHLEVBQUUsR0FBRztRQUN4QixTQUFTLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRU0sSUFBTSxlQUFlLEdBQUcsVUFBQyxVQUFpQjtJQUFqQiw4Q0FBaUI7SUFBTSxXQUFJLE9BQU8sQ0FBRSxVQUFPLE9BQU87Ozs7O29CQUMxRSxlQUFlLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO29CQUN6QyxHQUFHLEdBQUcsSUFBSSxDQUFDO29CQUNYLEdBQUcsR0FBRyxJQUFJLENBQUM7eUJBQ1gsVUFBVSxFQUFWLHdCQUFVO29CQUNWLEdBQUcsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDO29CQUNyQixHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQzs7d0JBRUoscUJBQU0sa0JBQWtCLEVBQUU7O29CQUFyQyxRQUFRLEdBQUcsU0FBaUM7b0JBQ2xELEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztvQkFDaEMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUTs7O29CQUU1QixNQUFNLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDbEQsSUFBSSxNQUFNLEVBQUU7d0JBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztxQkFDL0I7eUJBQU07d0JBQ0gsZUFBZSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFROzRCQUN2RCxJQUFJLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQzs0QkFDekMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7NEJBQ2hDLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxHQUFHLE9BQUUsR0FBRyxPQUFFLFVBQVUsY0FBRSxNQUFNLFVBQUUsQ0FBQyxDQUFDLENBQUM7NEJBQ3JGLE9BQU8sQ0FBQyxFQUFFLEdBQUcsT0FBRSxHQUFHLE9BQUUsVUFBVSxjQUFFLE1BQU0sVUFBRSxDQUFDLENBQUM7d0JBQzlDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxlQUFLOzRCQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ3ZCLENBQUMsQ0FBQztxQkFDTDs7OztTQUNKLENBQUM7QUF6QnFELENBeUJyRCIsImZpbGUiOiI5ODkyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSBcIkAvbW9kZWwvYXBwLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBHZW5lcmljU2VydmljZXMgfSBmcm9tIFwiLi4vZ2VuZXJpYy1zZXJ2aWNlL2dlbmVyaWMuc2VydmljZVwiO1xyXG5pbXBvcnQgVXJpIGZyb20gXCJAL2NvbnN0YW50L3VyaS91c2VyLWNvbnN0YW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYXRpb25TZXJ2aWNlcyBleHRlbmRzIEdlbmVyaWNTZXJ2aWNlcyB7XHJcbiAgICBnZXRDdXJyZW50TG9jYXRpb24obGF0OiBudW1iZXIsIGxvbjogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVTZWxlY3RpbmcoeyBsYXQsIGxvbiB9LCBVcmkuZ2V0Q3VycmVudExvY2F0aW9uKS50aGVuKChyZXNwb25zZTogQXBpUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSlcclxuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiBQcm9taXNlLnJlamVjdChlcnJvcikpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTG9jYXRpb25TZXJ2aWNlcyB9IGZyb20gJy4uL3NlcnZpY2UvbG9jYXRpb24tc2VydmljZS9sb2NhdGlvbi5zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50TG9jYXRpb24gPSAoKSA9PiB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgICAgdGltZW91dDogNTAwMCxcclxuICAgICAgICBtYXhpbXVtQWdlOiA2MDAwMFxyXG4gICAgfTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHJlcywgcmVqLCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGlzcGxheUxvY2F0aW9uID0gKGNvb3JkaW5hdGUgPSBudWxsKSAgPT4gbmV3IFByb21pc2UoIGFzeW5jIChyZXNvbHZlKSA9PiB7XHJcbiAgICB2YXIgbG9jYXRpb25TZXJ2aWNlID0gbmV3IExvY2F0aW9uU2VydmljZXMoKTtcclxuICAgIGxldCBsb24gPSBudWxsO1xyXG4gICAgbGV0IGxhdCA9IG51bGw7XHJcbiAgICBpZiAoY29vcmRpbmF0ZSkge1xyXG4gICAgICAgIGxvbiA9IGNvb3JkaW5hdGUubG9uO1xyXG4gICAgICAgIGxhdCA9IGNvb3JkaW5hdGUubGF0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGF3YWl0IGdldEN1cnJlbnRMb2NhdGlvbigpIGFzIGFueTtcclxuICAgICAgICBsb24gPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xyXG4gICAgICAgIGxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZVxyXG4gICAgfVxyXG4gICAgY29uc3QgY2FjaGVkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncG9zaXRpb24nKTtcclxuICAgIGlmIChjYWNoZWQpIHtcclxuICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoY2FjaGVkKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxvY2F0aW9uU2VydmljZS5nZXRDdXJyZW50TG9jYXRpb24obGF0LCBsb24pLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZWdpb25Db2RlID0gcmVzLmRhdGFbMF0ucmVnaW9uX2NvZGU7XHJcbiAgICAgICAgICAgIGxldCByZWdpb24gPSByZXMuZGF0YVswXS5yZWdpb247XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Bvc2l0aW9uJywgSlNPTi5zdHJpbmdpZnkoeyBsYXQsIGxvbiwgcmVnaW9uQ29kZSwgcmVnaW9uIH0pKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IGxhdCwgbG9uLCByZWdpb25Db2RlLCByZWdpb24gfSk7XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSlcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98925\n')}}]);